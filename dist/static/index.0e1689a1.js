import{n as r,F as l}from"./index.25833e42.js";var o=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"img-compress"},[t("span",[e._v(" \u8F93\u5165\u5BBD\u9AD8\u538B\u7F29\u6BD4 ")]),e._v(" "),t("el-input",{model:{value:e.ratio,callback:function(s){e.ratio=s},expression:"ratio"}}),t("input",{ref:"fileRef",attrs:{type:"file"},on:{change:e.fileChange}}),t("div",{staticClass:"item"},[t("span",[e._v(" \u538B\u7F29\u524D:"+e._s(e.imgSize)+" ")]),t("img",{attrs:{src:e.img1,alt:""}})]),t("div",{staticClass:"item"},[t("div",[t("span",[e._v(" \u538B\u7F29\u540E:"+e._s(e.imgSize_)+" ")]),t("img",{attrs:{src:e.img2,alt:""}})])])],1)},_=[];const m={components:{},data(){return{img1:"",img2:"",imgSize:"",imgSize_:"",ratio:1}},watch:{ratio(){!this.img1||this.fileChange()}},methods:{async fileChange(){var e=this.$refs.fileRef.files[0];let i=await l(e,this.ratio);this.img1=i.imgBase64,this.img2=i.imgBase64_,this.imgSize=i.imgSize,this.imgSize_=i.imgSize_}}},a={};var c=r(m,o,_,!1,f,"939087b6",null,null);function f(e){for(let i in a)this[i]=a[i]}var p=function(){return c.exports}(),u=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"demo"},[t("klUpload",{ref:"klUploadRef",attrs:{hideFooter:"",preview:"",limit:3},on:{fileChange:e.fileChange,getFiles:e.getFiles}}),t("h2",[e._v("\u56FE\u7247\u538B\u7F29")]),t("ImgCompress")],1)},v=[];const g={name:"demo",components:{ImgCompress:p},data(){return{url:"http://127.0.0.1:5000/ceshi/files"}},methods:{fileChange(e){},async getFiles(e){let i=new FormData;e.forEach(s=>{i.append("file",s.file)});let t=await axios({method:"post",url:this.url,data:i,headers:{"Content-Type":"multipart/form-data"}});this.$message.success(t.data.msg),this.$refs.klUploadRef.clear()}}},n={};var d=r(g,u,v,!1,h,"aeda48e2",null,null);function h(e){for(let i in n)this[i]=n[i]}var x=function(){return d.exports}();export{x as default};
