import{n as i}from"./index.25833e42.js";var c=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("el-select",e._g(e._b({attrs:{"popper-class":"select-all-popper-style"},on:{change:e.handleChange},model:{value:e.selectArr,callback:function(s){e.selectArr=s},expression:"selectArr"}},"el-select",e.$attrs,!1),e.$listeners),[t("div",{staticClass:"option-leyer"},[t("el-checkbox",{model:{value:e.changeAll,callback:function(s){e.changeAll=s},expression:"changeAll"}},[e._v(" \u5168\u9009 ")]),t("span",{staticClass:"reverse-style",on:{click:e.selectReverse}},[e._v("\u53CD\u9009")])],1),e._l(e.options,function(s){return t("el-option",{key:s[e.valueKey],attrs:{label:s[e.labelKey],value:s[e.valueKey]}},[e.tooltip?t("el-tooltip",{attrs:{effect:"dark",content:s[e.labelKey],placement:"right"}},[t("span",{staticClass:"memo_item"},[e._v(" "+e._s(s[e.labelKey])+" ")])]):e._e()],1)})],2)},o=[];const h={name:"SelectAll",model:{prop:"initValue",event:"changeFn"},props:{initValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},tooltip:{type:Boolean,default:!0}},data(){return{selectArr:[]}},computed:{changeAll:{get(){return this.selectArr.length===this.options.length},set(e){e?this.selectArr=this.options.map(l=>l[this.valueKey]):this.selectArr=[],this.emitChange()}}},watch:{initValue:{immediate:!0,handler(e){this.selectArr=JSON.parse(JSON.stringify(e)),this.emitSelectOptions()}}},methods:{handleChange(){this.emitChange()},selectReverse(){const e={};let l=[];const{valueKey:t,options:s}=this;s.length===this.selectArr.length?l=[]:this.selectArr.length?(this.selectArr.forEach(a=>{e[a]=1}),s.forEach(a=>{const n=a[t];!e[n]&&l.push(n)})):l=s.map(a=>a[t]),this.selectArr=l,this.emitChange()},emitChange(){this.emitSelectOptions(),this.$emit("changeFn",this.selectArr)},emitSelectOptions(){this.$emit("update:selectOptions",this.filterData())},filterData(){const e={},l=[];return this.selectArr.forEach(t=>e[t]=1),this.options.forEach(t=>{e[t[this.valueKey]]&&l.push(t)}),l}}},r={};var p=i(h,c,o,!1,u,"1e0a9691",null,null);function u(e){for(let l in r)this[l]=r[l]}var v=function(){return p.exports}();export{v as default};
