import{n}from"./index.25833e42.js";var c=function(){var e=this,r=e.$createElement,o=e._self._c||r;return e.formConfig.length>0?o("div",[o("el-form",{ref:"submitFormRef",class:{secForm:!0,sqForm:e.formStatus},attrs:{inline:e.inline,rules:e.formRule,model:e.formData,"label-position":e.labelPson,"label-width":e.labelwth}},e._l(e.formConfig,function(a,t){return o("span",{key:t,class:`${a.type==="customAll"||a.type==="datetimerange"?"slotStyle":""}
       ${a.widthType&&a.widthType==="half"?"span50":""}
       ${a.class?a.class:""}`},[a.type==="customAll"&&a.slot?o("span",[e._t(a.slot,null,{item:a})],2):e._e(),a.type==="customInput"?o("el-form-item",{staticClass:"secForm__item customInput",attrs:{label:a.label||"",prop:a.modelName||"",required:a.required}},[e._t(a.slot,null,{item:a})],2):e._e(),a.type==="text"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label||"",prop:a.modelName||""}},[a.slot?e._t(a.slot,function(){return[e._v(" "+e._s(typeof a.render=="function"?a.render(e.formData[a.modelName]):e.formData[a.modelName])+" ")]},{item:a}):[o("div",{staticClass:"content"},[e._v(" "+e._s(typeof a.render=="function"?a.render(e.formData[a.modelName]):e.formData[a.modelName])+" ")])],a.showTips?o("div",{staticClass:"form-item-tips"},[o("span",[e._v(" "+e._s(a.tips)+" ")])]):e._e()],2):e._e(),a.type==="input"||a.type==="password"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[a.disabled&&a.tooltip?[e.formData[a.modelName]?o("el-tooltip",{attrs:{effect:"dark",content:e.formData[a.modelName],placement:"top-start"}},[o("el-input",{attrs:{placeholder:a.disabled?"":a.placeholder?a.placeholder:"\u8BF7\u8F93\u5165"+a.label,clearable:!0,disabled:!!a.disabled,readonly:!!a.readonly,"show-password":a.type==="password",maxlength:a.maxLength||9999,"show-word-limit":a.showWordLimit||!1},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,typeof l=="string"?l.trim():l)},expression:"formData[item.modelName]"}})],1):[o("el-input",{attrs:{placeholder:a.disabled?"":a.placeholder?a.placeholder:"\u8BF7\u8F93\u5165"+a.label,clearable:!0,disabled:!!a.disabled,readonly:!!a.readonly,"show-password":a.type==="password",maxlength:a.maxLength||9999,"show-word-limit":a.showWordLimit||!1},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,typeof l=="string"?l.trim():l)},expression:"formData[item.modelName]"}})]]:o("el-input",{class:[a.className],attrs:{placeholder:a.disabled&&a.placeholder?a.placeholder:a.disabled?"":a.placeholder?a.placeholder:"\u8BF7\u8F93\u5165"+a.label,clearable:!0,disabled:!!a.disabled,readonly:!!a.readonly,"show-password":a.type==="password",maxlength:a.maxLength||9999,"show-word-limit":a.showWordLimit||!1},on:{blur:function(l){a.blurFn&&a.blurFn(l.target.value)},clear:function(){a.clearFn&&a.clearFn()}},nativeOn:{keyup:function(l){return!l.type.indexOf("key")&&e._k(l.keyCode,"enter",13,l.key,"Enter")?null:function(s){a.enterFn&&a.enterFn(s.target.value)}.apply(null,arguments)}},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,typeof l=="string"?l.trim():l)},expression:"formData[item.modelName]"}})],2):e._e(),a.type==="readOnly"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[o("div",[e._v(e._s(e.formData[a.modelName]))])]):e._e(),a.type==="inputNumber"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[o("el-input-number",{staticClass:"widthStyle",class:[a.className],attrs:{min:a.min?a.min:0,max:a.max||a.max===0?a.max:1e13,step:a.step?a.step:0,controls:!1,"controls-position":a.position?a.position:"right",precision:a.precision?a.precision:0,clearable:a.clearable?a.clearable:!1,disabled:!!a.disabled,placeholder:a.disabled?"":a.placeholder?a.placeholder:"\u8BF7\u8F93\u5165"+a.label},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}})],1):e._e(),a.type==="textarea"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[o("el-input",{style:{width:a.width?a.width:""},attrs:{type:a.type,placeholder:a.disabled?"":a.placeholder?a.placeholder:"\u8BF7\u8F93\u5165"+a.label,disabled:!!a.disabled,autosize:a.autosize?a.autosize:!0,maxlength:a.maxLength||300,"show-word-limit":a.showWordLimit||!1,resize:a.resize,rows:a.rows||3},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}})],1):e._e(),a.type==="select"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[Array.isArray(e.formData[a.modelName])&&a.modelName=="settlementNo"?o("el-select",{attrs:{clearable:a.clearable!==void 0?a.clearable:!0,multiple:a.isMuli?a.multiple:!1,filterable:a.isFilter?a.isFilter:!1,disabled:e.formData[a.modelName].length<=1?a.disabled:!1,placeholder:a.disabled?"":a.placeholder?a.placeholder:"\u8BF7\u9009\u62E9"+a.label,"collapse-tags":!!a.isCollapse},on:{change:function(l){return e.handleSelectChange(l,a)}},model:{value:e.formData[a.modelName][0],callback:function(l){e.$set(e.formData[a.modelName],0,l)},expression:"formData[item.modelName][0]"}},e._l(a.options,function(l,s){return o("el-option",{key:s,attrs:{disabled:l.disabled?l.disabled:!1,label:a.labelKey?l[a.labelKey]:l.label,value:a.valueKey?l[a.valueKey]:l.value}},[a.optionRender?o("span",[e._v(e._s(a.optionRender(l)))]):e._e()])}),1):a.page?o("PagingSelectComp",{staticStyle:{width:"100%"},attrs:{"select-config":a.pagingConfig},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}}):o("el-select",{attrs:{value:e.formData[a.modelName],"value-key":a.valueKey||"code",clearable:a.clearable!==void 0?a.clearable:!0,multiple:a.isMuli?a.multiple:!1,filterable:a.isFilter?a.isFilter:!1,"allow-create":a.allowCreate?a.allowCreate:!1,"default-first-option":a.defaultFirstOption?a.defaultFirstOption:!1,remote:a.isRemote?a.isRemote:!1,"remote-method":a.isRemote?function(l){return e.handleSelectRemote(l,a)}:null,disabled:!!a.disabled,loading:a.loading?a.loading:!1,placeholder:a.disabled?"":a.placeholder?a.placeholder:`\u8BF7\u9009\u62E9${a.label}`.replace(/(选择)\1+/g,"$1"),"collapse-tags":!!a.isCollapse},on:{"update:value":function(l){return e.$set(e.formData,a.modelName,l)},change:function(l){return e.handleSelectChange(l,a)},clear:function(){return e.handleSelectClear(a)},focus:function(l){return e.handleSelectFocus(l,a)}}},e._l(a.options,function(l){return o("el-option",{key:a.valueKey?l[a.valueKey]:l.value,attrs:{disabled:l.disabled?l.disabled:!1,label:a.labelKey?l[a.labelKey]:l.label,value:a.valueType==="object"?l:a.valueKey?l[a.valueKey]:l.value}},[o("div",{class:a.widthAuto?"select-option-width-auto":"select-option-width"},[a.optionRender?o("span",[e._v(" "+e._s(a.optionRender(l))+" ")]):[e._v(" "+e._s(a.labelKey?l[a.labelKey]:l.label)+" ")]],2)])}),1),a.showLabel&&e.formData[a.modelName]?o("el-tooltip",{attrs:{content:e.formData[a.modelName].name,placement:"top"}},[o("span",{staticClass:"selected-label"},[e._v(" "+e._s(e.formData[a.modelName].name)+" ")])]):e._e(),a.showTips?o("span",{staticClass:"form-item-tips"},[e._v(" "+e._s(a.tips)+" ")]):e._e()],1):e._e(),a.type==="cascader"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[o("el-cascader",{attrs:{clearable:"",filterable:"",options:a.options,props:a.props,placeholder:a.disabled?"":a.placeholder?a.placeholder:"\u8BF7\u9009\u62E9"+a.label,"popper-class":a.class},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}})],1):e._e(),a.type==="radioGroup"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName,"label-width":a.labelWidth?a.labelWidth:e.labelwth}},[o("el-radio-group",{attrs:{disabled:a.disabled},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}},[a.radioButton?e._l(a.options,function(l,s){return o("el-radio-button",{key:s,attrs:{label:l.value,disabled:!!l.disabled}},[o("span",{domProps:{textContent:e._s(l.label)}})])}):e._l(a.options,function(l,s){return o("el-radio",{key:s,attrs:{label:l.value,disabled:!!l.disabled}},[o("span",{domProps:{textContent:e._s(l.label)}})])})],2)],1):e._e(),a.type==="checkbox"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[o("el-checkbox",{attrs:{disabled:!!a.disabled},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}},[o("span",{domProps:{textContent:e._s(a.CheckboxText)}})])],1):e._e(),a.type==="checkboxGroup"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[o("el-checkbox-group",{attrs:{min:a.min?a.min:0,max:a.max?a.max:1e5},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}},[a.checkboxButton?e._l(a.options,function(l,s){return o("el-checkbox-button",{key:s,attrs:{label:a.valueKey?l[a.valueKey]:l.value,disabled:!!l.disabled}},[o("span",{domProps:{textContent:e._s(a.labelKey?l[a.labelKey]:l.label)}})])}):e._l(a.options,function(l,s){return o("el-checkbox",{key:s,attrs:{label:a.valueKey?l[a.valueKey]:l.value,disabled:!!l.disabled}},[o("span",{domProps:{textContent:e._s(a.labelKey?l[a.labelKey]:l.label)}})])})],2)],1):e._e(),a.type==="datePicker"?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[o("el-date-picker",{attrs:{type:a.isNeedTime?"datetime":"date",placeholder:a.disabled?"":a.placeholder?a.placeholder:"\u8BF7\u8F93\u5165"+a.label,"picker-options":a.pickerOptions?a.pickerOptions:"","default-value":a.defaultValue?a.defaultValue:"",disabled:!!a.disabled,"value-format":a.valueFormat===void 0?"yyyy-MM-dd HH:mm:ss":a.valueFormat,format:a.format===void 0?"yyyy-MM-dd HH:mm:ss":a.format},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}})],1):e._e(),a.type==="datetimerange"&&a.isArray?o("el-form-item",{staticClass:"secForm__item2",attrs:{label:a.label,prop:a.modelName.join("&")}},[o("el-date-picker",{staticClass:"item__datePicker",attrs:{type:a.isNeedTime?"datetimerange":"daterange","range-separator":a.rangeSeparator?a.rangeSeparator:"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F","default-time":["00:00:00","23:59:59"],"value-format":a.valueType,format:a.format,disabled:!!a.disabled},model:{value:e.formData[a.modelName.join("&")],callback:function(l){e.$set(e.formData,a.modelName.join("&"),l)},expression:"formData[item.modelName.join('&')]"}})],1):e._e(),a.type==="datetimerange"&&!a.isArray?o("el-form-item",{staticClass:"secForm__item2",attrs:{label:a.label,prop:a.modelName}},[o("el-date-picker",{staticClass:"item__datePicker",attrs:{type:a.isNeedTime?"datetimerange":"daterange","range-separator":a.rangeSeparator?a.rangeSeparator:"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F","default-time":["00:00:00","23:59:59"],"value-format":a.valueType,format:a.format,disabled:!!a.disabled},on:{change:function(l){a.changeFn&&a.changeFn(l)}},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}})],1):e._e(),a.type==="selectAll"&&a.show?o("el-form-item",{staticClass:"secForm__item",attrs:{label:a.label,prop:a.modelName}},[o("select-all",{attrs:{placeholder:a.placeholder?a.placeholder:"\u8BF7\u9009\u62E9"+a.label,options:a.options,valueKey:a.valueKey,labelKey:a.labelKey,clearable:!0,multiple:!0,filterable:a.isFilter?a.isFilter:!1,"collapse-tags":a.isCollapse?a.isCollapse:!1},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}})],1):e._e(),a.type==="timerange"?o("el-form-item",{key:t,staticClass:"secForm__item2",attrs:{label:a.label,prop:a.modelName}},[o("el-time-picker",{staticClass:"item__timePicker",attrs:{"is-range":"","range-separator":a.rangeSeparator||"\u81F3","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4",clearable:!!a.clearable,"value-format":a.valueType||"HH:mm",format:a.format||"HH:mm","picker-options":{format:a.format||"HH:mm"},disabled:!!a.disabled},model:{value:e.formData[a.modelName],callback:function(l){e.$set(e.formData,a.modelName,l)},expression:"formData[item.modelName]"}})],1):e._e(),a.type==="upload"?o("el-form-item",{key:t,staticClass:"secForm__item2",attrs:{label:a.label,prop:a.modelName}},[o("SceneUploader",{attrs:{value:e.formData[a.modelName],readonly:!!a.disabled||!!a.readonly,"max-count":a.maxCount||10,"max-size":a.maxSize||50,"is-image-only":a.isImageOnly||!1,"is-video-only":a.isVideoOnly||!1},on:{"update:value":function(l){return e.$set(e.formData,a.modelName,l)},change:function(l){a.changeFn&&a.changeFn(l)}},scopedSlots:e._u([{key:"head",fn:function(l){return[o("div",[!a.disabled&&!a.readonly?o("span",{domProps:{innerHTML:e._s(a.tips?typeof a.tips=="function"?a.tips():a.tips:"")}}):e._e(),e._v(" \uFF08"+e._s(Array.isArray(e.formData[a.modelName])?e.formData[a.modelName].length:0)+"/"+e._s(l.maxCount)+"\uFF09\uFF1A ")])]}}],null,!0)})],1):e._e()],1)}),0)],1):e._e()},f=[];const p={name:"e-form",props:{formConfig:{type:Array,default:function(){return[]}},labelWidth:{type:String,default:"115px"},labelPosition:{type:String,default:"right"},formRule:{type:Object,default:function(){return{}}},formData:{type:Object,default:function(){return{}}},inline:{type:Boolean,default:!1}},data(){return{formStatus:!1}},computed:{labelwth(){return this.labelWidth?this.labelWidth:"100px"},labelPson(){return this.labelPosition?this.labelPosition:"right"}},mounted(){this.$emit("forwardFormRef",this.$refs.submitFormRef)},methods:{async handleSelectChange(e,r){r.beforeChange&&await r.beforeChange(e,this.formData[r.modelName])===!1||(this.$emit("handleChange",e,r),this.$set(this.formData,r.modelName,e))},handleSelectRemote(e,r){r.remoteMethod&&r.remoteMethod(e,r)},handleSelectClear(e){e.clear&&e.clear(e)},handleSelectFocus(e,r){r.beforeFocus&&r.beforeFocus(e,this.formData[r.modelName])},async validateFn(){try{return await this.$refs.submitFormRef.validate()}catch{return Promise.resolve(!1)}},validateField(e=[],r){this.$refs.submitFormRef.validateField(e,o=>(typeof r=="function"&&r(o),o))},clearValidate(e=[]){this.$refs.submitFormRef.clearValidate(e)},toggleForm(){this.formStatus=!this.formStatus},reset(){this.$emit("resetFieldFn"),this.$refs.submitFormRef&&this.$refs.submitFormRef.resetFields()},search(){const e={};for(const r in this.formData)r.indexOf("&")!==-1?(r.split("&").forEach((a,t)=>{e[a]=this.formData[r]?this.formData[r][t]:""}),delete e[r]):e[r]=this.formData[r];this.$emit("search",e)},getFromData(){const e={};this.formConfig.map(r=>{r.type&&(r.clearable!==!1&&(r.clearable=!0),r.modelName&&(r.type==="datetimerange"?Object.prototype.toString.call(r.modelName)==="[object Array]"?(this.$set(r,r.modelName.join("&"),r.modelName.join("&")),this.$set(r,"isArray",!0),e[r.modelName.join("&")]=r.defaultValue):e[r.modelName]=r.defaultValue:(r.defaultValue&&console(r.modelName),e[r.modelName]=r.defaultValue)))}),this.formData=e,this.autoSearch&&this.search()}}},d={};var u=n(p,c,f,!1,b,"a47e87a2",null,null);function b(e){for(let r in d)this[r]=d[r]}var h=function(){return u.exports}();export{h as default};
