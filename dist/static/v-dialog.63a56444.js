import{n as r}from"./index.25833e42.js";var n=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("van-dialog",{class:["p-r",e.circle?"v-kl-dialog-circle":""],attrs:{transition:e.transition,width:e.width,overlay:e.overlay,getContainer:e.getContainer,showCancelButton:e.showCancelButton,showConfirmButton:e.showConfirmButton,lockScroll:e.lockScroll,closeOnClickOverlay:e.closeOnClickOverlayInit},model:{value:e.value,callback:function(a){e.value=a},expression:"value"}},[e.closeIcon&&e.value?t("div",{staticClass:"p-a v-dialog-close-cover",on:{click:e.close}},[t("van-circle",{staticClass:"p-a-c",attrs:{size:"35px","stroke-width":70,rate:100,speed:e.speed,color:"#ffffff","layer-color":e.getLayerStyle()},model:{value:e.currentRate,callback:function(a){e.currentRate=a},expression:"currentRate"}}),t("van-icon",{staticClass:"p-a-c f-600",attrs:{name:"cross",size:"20",color:"#fff"}})],1):e._e(),e._t("default")],2)},i=[];const s={props:{transition:{type:String,default:"v-dialog-fade"},circle:{type:Boolean,default:!1},"close-time":{type:Number,default:5},closeIcon:{type:Boolean,default:!0},value:{type:Boolean,default:!1},width:{type:String,default:"320px"},overlay:{type:Boolean,default:!0},getContainer:{type:String,default:"body"},lockScroll:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!1},showCancelButton:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0}},data(){return{closeOnClickOverlayInit:this.closeOnClickOverlay,currentRate:0,timer:null,speed:20}},created(){this.init()},watch:{closeTime(e){this.speed=Math.floor(100/e)},value(e){e?this.closeIcon&&(this.currentRate=0,this.timer=setInterval(()=>{this.currentRate+=100/this.closeTime,this.currentRate>=100&&(this.currentRate=100,clearInterval(this.timer))},500)):this.currentRate=0,this.$emit("input",e)}},methods:{getLayerStyle(){return this.circle?"rgba(0, 0, 0, 0)":"rgba(0, 0, 0, 0.2)"},init(){let{closeTime:e,closeIcon:l,closeOnClickOverlay:t}=this;this.speed=Math.floor(100/e),l&&!t?this.closeOnClickOverlayInit=!1:this.closeOnClickOverlayInit=t},close(){this.currentRate==100&&this.$emit("input",!1)}}},o={};var c=r(s,n,i,!1,u,null,null,null);function u(e){for(let l in o)this[l]=o[l]}var v=function(){return c.exports}();export{v as default};
