import{d as l,r as n}from"./data.d27333a2.js";import{n as o}from"./index.25833e42.js";var c=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"login"},[t("div",{staticClass:"right-wrap"},[t("div",{staticClass:"login-wrap common_bck_1"},[t("div",{staticClass:"form"},[t("h3",[e._v("\u6CE8\u518C")]),t("el-col",{staticStyle:{"margin-top":"30px"}},[t("span",{staticClass:"input-label"},[e._v("\u90AE\u7BB1")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",size:"medium"},model:{value:e.email,callback:function(s){e.email=typeof s=="string"?s.trim():s},expression:"email"}})],1),t("el-col",{staticStyle:{"margin-top":"30px"}},[t("span",{staticClass:"input-label"},[e._v("\u5BC6\u7801")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801(5~20)",size:"medium",type:"password",autocomplete:"off"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.findPassword.apply(null,arguments)}},model:{value:e.password,callback:function(s){e.password=typeof s=="string"?s.trim():s},expression:"password"}})],1),t("el-col",{staticStyle:{"margin-top":"30px"}},[t("span",{staticClass:"input-label"},[e._v("\u786E\u8BA4\u5BC6\u7801")]),t("el-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801(5~20)",size:"medium",type:"password",autocomplete:"off"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.findPassword.apply(null,arguments)}},model:{value:e.checkPass,callback:function(s){e.checkPass=typeof s=="string"?s.trim():s},expression:"checkPass"}})],1),t("el-col",{staticStyle:{"margin-top":"30px"}},[t("span",{staticClass:"input-label"},[e._v("\u9A8C\u8BC1\u7801")]),t("el-col",{staticClass:"code"},[t("el-input",{attrs:{size:"medium"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.code,callback:function(s){e.code=typeof s=="string"?s.trim():s},expression:"code"}}),e.isTrue?t("p",{staticClass:"handleyzm"},[e._v(e._s(e.isNum)+"\u79D2\u540E\u53EF\u4EE5\u91CD\u65B0\u83B7\u53D6")]):t("p",{staticClass:"handleyzm",on:{click:e.getEmailCode}},[e._v("\u83B7\u53D6\u9A8C\u8BC1\u7801")])],1)],1),t("el-col",{staticStyle:{"margin-top":"30px"}},[t("el-button",{staticClass:"login-btn",attrs:{loading:e.loading},on:{click:e.findPassword}},[e._v(" \u63D0\u4EA4\u6CE8\u518C ")])],1),t("div",{staticClass:"gologincover"},[t("router-link",{staticClass:"gologin",attrs:{to:"/login"}},[e._v("\u8FD4\u56DE\u767B\u9646")]),t("router-link",{staticClass:"findPassword",attrs:{to:"/findPassword"}},[e._v("\u91CD\u7F6E\u5BC6\u7801")])],1)],1)])])])},u=[];const p={data(){return{isTrue:!1,isNum:60,email:"",password:"",checkPass:"",code:"",loading:!1,btnText:"\u767B\u5F55"}},methods:{async getEmailCode(){if(this.email=="")return this.$message.error("\u8BF7\u5148\u8F93\u5165\u90AE\u7BB1,\u624D\u80FD\u83B7\u53D6\u9A8C\u8BC1\u7801");var e=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(!e.test(this.email))return this.$message.error("\u8BF7\u68C0\u67E5\u90AE\u7BB1\u662F\u5426\u5408\u6CD5");await l({email:this.email}),this.isTrue=!0,setInterval(()=>{this.isNum>1?this.isNum-=1:(this.isTrue=!1,this.isNum=60)},1e3)},async findPassword(){let{email:e,password:a,code:t,checkPass:s}=this;if(!e){this.$message.error("\u8BF7\u8F93\u5165\u8D26\u53F7");return}if(!a){this.$message.error("\u8BF7\u8F93\u5165\u5BC6\u7801");return}if(a.length<5||a.length>30){this.$message.error("\u5BC6\u7801\u957F\u5EA65~30\u4E2A\u5B57\u7B26");return}if(this.password!=this.checkPass){this.$message.error("\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4");return}if(!t){this.$message.error("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801");return}let i=await n({email:e,password:a,code:t,checkPass:s});i.code==200&&(this.$message.success(i.msg),this.$router.push("/login"))}}},r={};var d=o(p,c,u,!1,m,"2adf0568",null,null);function m(e){for(let a in r)this[a]=r[a]}var _=function(){return d.exports}();export{_ as default};
