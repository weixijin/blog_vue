import{n as m,H as h}from"./index.25833e42.js";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"kl-nine"},e._l(9,function(s,n){return i("div",{key:n,class:["kl-nine-item",e.activeIndex===n?"active-w":""]},[i("div",{staticClass:"bg-top",on:{click:function(l){return e.start(n)}}}),i("div",{class:[e.activeIndex===n?"kl-pos-active-bg":""]}),i("img",{staticClass:"kl-nine-item-img",attrs:{src:e.imgurl,alt:""}}),i("p",{staticClass:"kl-nine-item-content"},[e._v(e._s(s)+"\u6587\u5B57")])])}),0)},d=[];const p={components:{},props:{itemWidth:{type:Number,default:90}},data(){return{imgurl:"https://scpic.chinaz.net/files/pic/pic9/202009/apic27858.jpg",activeIndex:-1,initArr:[0,1,2,5,8,7,6,3],endActive:3,timer:null,lastNumbers:0,steps:0,step:0,endStpes:0,endStep:0,time_mini:50}},mounted(){this.$nextTick(()=>{this.setStyle()})},beforeDestroy(){clearInterval(this.timer),this.timer=null},methods:{async start(e){let t=this;if(e===4&&!this.timer){let i=this.initArr.findIndex(a=>+a==+this.endActive)+1,s=12,n=4*8+i+(8-s%8);this.activeIndex=0;let l=0,r=0;this.timer=setInterval(()=>{if(r<7?r+=1:r=0,l+=1,n===l){clearInterval(this.timer),this.timer=null;return}this.activeIndex=this.initArr[r]},t.time_mini),await h(t.time_mini*n),this.endStep=this.initArr.findIndex(a=>+a==+this.activeIndex),t.endStpes=this.endStep,t.scrollFun(s)}},scrollFun(e){let t=this;this.timer=setTimeout(()=>{clearTimeout(t.timer),t.timer=null,t.endStpes+=1,t.activeIndex=this.initArr[t.endStpes%8],t.endStpes!==e+t.endStep&&t.scrollFun(e)},Math.floor(t.time_mini+t.endStpes*(4*(t.endStpes-t.endStep))))},sleep(e){return new Promise(t=>{setTimeout(()=>{t("")},e)})},setStyle(){let e=$(".kl-nine-item");for(let t=0;t<e.length;t++){let s=($(".kl-nine").height()-3*this.itemWidth)/2;t<6?e.eq(t).css({marginBottom:s+"px",width:this.itemWidth+"px",height:this.itemWidth+"px"}):e.eq(t).css({marginBottom:0+"px",width:this.itemWidth+"px",height:this.itemWidth+"px"})}}}},c={};var u=m(p,o,d,!1,v,"40bc3e3b",null,null);function v(e){for(let t in c)this[t]=c[t]}var f=function(){return u.exports}();export{f as default};
