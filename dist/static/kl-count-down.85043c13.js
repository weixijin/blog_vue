import{n as m}from"./index.25833e42.js";var u=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{class:["vue-countdown-component",{theme2:t.theme!==1},{ie:t.isIE}]},[t._l(t.timeArray,function(e,r){return[s("div",{key:r,class:["time-box"]},[s("div",{staticClass:"base"},[t._v(" "+t._s(e)+" "),s("div",{staticClass:"base-b"},[t._v(t._s(t.timeArrayT[r]))])]),s("div",{class:["face",t.isAnimate[r]?"anime":""],on:{animationend:function(a){return t.onAnimateEnd(r)}}},[t._v(" "+t._s(t.timeArrayT[r])+" ")]),s("div",{class:["back",t.isAnimate[r]?"anime":""]},[t._v(t._s(e))])]),t.isTimeUnitShow(r)?s("div",{key:`unit-${r}`,staticClass:"time-unit"},[t._v(" "+t._s(t.setTimeUnit(r))+" ")]):t._e()]})],2)},p=[];const c={props:{endTime:{type:Number,default:0,validator(t){return t>=0}},type:{type:Number,default:4,validator(t){return[1,2,3,4].includes(t)}},theme:{type:Number,default:2,validator(t){return[1,2].includes(t)}}},data(){return{isIE:!1,timeArray:this.theme===2?new Array(this.type*2).fill("0"):new Array(this.type).fill("00"),timeArrayT:this.theme===2?new Array(this.type*2).fill("0"):new Array(this.type).fill("00"),isAnimate:this.theme===2?new Array(this.type*2).fill(!1):new Array(this.type).fill(!1)}},computed:{timeUnit(){return["\u5929","\u65F6","\u5206","\u79D2"].slice(0,this.type)},step(){return this.theme===1?1:2},arr(){const t=this.timeArray.length,i=this.step,s=[t-1,t-i-1,t-i*2-1,t-i*3-1];return s.length=this.type>1?this.type:1,s}},watch:{timeArray(t,i){const s=[];t.forEach((e,r)=>{e!==i[r]&&(s.push({value:e,index:r}),this.$set(this.isAnimate,r,!0))}),setTimeout(()=>{s.forEach(e=>{this.$set(this.timeArrayT,e.index,e.value)})},350)},endTime:{handler(t){t>0&&this.start()},immediate:!0}},mounted(){this.isIE=window.ActiveXObject||"ActiveXObject"in window||window.navigator.userAgent.indexOf("Edge")>-1},beforeDestroy(){this.clearTimer()},methods:{clearTimer(){clearTimeout(this.timer),this.timer=null},start(){let{theme:t,type:i,addZero:s}=this;this.clearTimer(),this.timer=setTimeout(()=>{let e=this.endTime-Date.now();e=e<0?0:e;let r=0,a=0,l=0,h=0;i>=4?(r=Math.floor(e/864e5),a=Math.floor(e/36e5-r*24),l=Math.floor(e/6e4-r*1440-a*60),h=Math.floor(e/1e3-r*86400-a*3600-l*60)):i>=3?(a=Math.floor(e/36e5),l=Math.floor(e/6e4-a*60),h=Math.floor(e/1e3-a*3600-l*60)):i>=2?(l=Math.floor(e/6e4),h=Math.floor(e/1e3-l*60)):h=Math.floor(e/1e3);let n=[];t===1?(i>=4&&n.push(String(r).padStart(2,"0")),i>=3&&n.push(String(a).padStart(2,"0")),i>=2&&n.push(String(l).padStart(2,"0")),n.push(String(h).padStart(2,"0"))):(i>=4&&n.push(...String(r).padStart(2,"0").split("")),i>=3&&n.push(...String(a).padStart(2,"0").split("")),i>=2&&n.push(...String(l).padStart(2,"0").split("")),n.push(...String(h).padStart(2,"0").split(""))),this.timeArray=n,e>0?this.start():this.$emit("timeUp")},1e3)},onAnimateEnd(t){this.$set(this.isAnimate,t,!1)},isTimeUnitShow(t){return this.arr.includes(t)?!(t===this.timeArray.length-1&&!this.timeUnit[3]):!1},setTimeUnit(t){switch(t){case this.timeArray.length-1:return this.timeUnit[3]||"";case this.timeArray.length-this.step-1:return this.timeUnit[2]||"";case this.timeArray.length-this.step*2-1:return this.timeUnit[1]||"";default:return this.timeUnit[0]||""}}}},o={};var f=m(c,u,p,!1,d,"0a20bed8",null,null);function d(t){for(let i in o)this[i]=o[i]}var _=function(){return f.exports}();export{_ as default};
