import{n as o,h as g}from"./index.25833e42.js";var r=function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("e-dialog",{staticClass:"dialog-center",attrs:{title:`\u56FE\u7247\u6311\u9009(${e.selectImgs.length})`,width:"1000px",modal:e.modal},on:{closed:e.handleClose,confirm:e.confirm},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[i("div",{staticClass:"imgs-container p-15 p-b-0"},[i("div",{staticClass:"img-flex"},e._l(e.imgsList,function(t){return i("img",{key:t._id,class:[e.selectImgs.findIndex(function(a){return a._id==t._id})!==-1?"select-img":""],attrs:{src:t.imgs_url},on:{click:function(a){return e.selectImg(t)}}})}),0),e.pageOption.total?i("div",{staticClass:"flex-center m-t-20"},[i("el-pagination",{attrs:{background:"","current-page":e.pageOption.page,"page-sizes":e.pageOption.pageSizes,"page-size":e.pageOption.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.pageOption.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()])])},c=[];const p={props:{value:{type:Boolean,default:!1},isArray:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},data(){return{imgsList:[],pageOption:{page:1,limit:9,pageSizes:[9,15,20,30],totle:0},selectImgs:[]}},created(){this.getImgs()},methods:{confirm(){this.$emit("determine",this.selectImgs)},selectImg(e){if(!this.isArray){this.$set(this.selectImgs,0,e);return}this.selectImgs.findIndex(s=>s._id==e._id)===-1?this.selectImgs.push(e):this.selectImgs=this.selectImgs.filter(s=>s._id!=e._id)},handleSizeChange(e){this.pageOption.limit=e,this.getImgs()},handleCurrentChange(e){this.pageOption.page=e,this.getImgs()},getImgs(){let{page:e,limit:s}=this.pageOption,i={page:e,limit:s};g.getImgs(i).then(t=>{let{imgs:a,total:l}=(t==null?void 0:t.data)||{};this.imgsList=a,this.pageOption.total=l}).catch(t=>{this.Toast(t)})},handleClose(){this.$emit("input",!1),this.$emit("close")}}},n={};var m=o(p,r,c,!1,d,"7ee2e474",null,null);function d(e){for(let s in n)this[s]=n[s]}var u=function(){return m.exports}();export{u as default};
