import{c as oe,n as ae,_ as W}from"./index.25833e42.js";function ce(){var e=window.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return parseInt(e.substring(i+5,e.indexOf(".",i)),10);var t=e.indexOf("Trident/");if(t>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):-1}var V=void 0;function E(){E.init||(E.init=!0,V=ce()!==-1)}var M={render:function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){(this._w!==this.$el.offsetWidth||this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!V&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var i=this;E(),this.$nextTick(function(){i._w=i.$el.offsetWidth,i._h=i.$el.offsetHeight});var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",V&&this.$el.appendChild(t),t.data="about:blank",V||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()}};function de(e){e.component("resize-observer",M),e.component("ResizeObserver",M)}var ue={version:"0.4.5",install:de},k=null;typeof window!="undefined"?k=window.Vue:typeof global!="undefined"&&(k=global.Vue);k&&k.use(ue);function D(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(i){return typeof i}:D=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},D(e)}function fe(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function B(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function he(e,i,t){return i&&B(e.prototype,i),t&&B(e,t),e}function q(e){return ve(e)||pe(e)||me()}function ve(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}function pe(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function me(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _e(e){var i;return typeof e=="function"?i={callback:e}:i=e,i}function ye(e,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,r,n,l=function(d){for(var u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];if(n=f,!(s&&d===r)){var h=t.leading;typeof h=="function"&&(h=h(d,r)),(!s||d!==r)&&h&&e.apply(void 0,[d].concat(q(n))),r=d,clearTimeout(s),s=setTimeout(function(){e.apply(void 0,[d].concat(q(n))),s=0},i)}};return l._clear=function(){clearTimeout(s),s=null},l}function J(e,i){if(e===i)return!0;if(D(e)==="object"){for(var t in e)if(!J(e[t],i[t]))return!1;return!0}return!1}var be=function(){function e(i,t,s){fe(this,e),this.el=i,this.observer=null,this.frozen=!1,this.createObserver(t,s)}return he(e,[{key:"createObserver",value:function(t,s){var r=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=_e(t),this.callback=function(a,d){r.options.callback(a,d),a&&r.options.once&&(r.frozen=!0,r.destroyObserver())},this.callback&&this.options.throttle){var n=this.options.throttleOptions||{},l=n.leading;this.callback=ye(this.callback,this.options.throttle,{leading:function(d){return l==="both"||l==="visible"&&d||l==="hidden"&&!d}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(a){var d=a[0];if(a.length>1){var u=a.find(function(p){return p.isIntersecting});u&&(d=u)}if(r.callback){var f=d.isIntersecting&&d.intersectionRatio>=r.threshold;if(f===r.oldResult)return;r.oldResult=f,r.callback(f,d)}},this.options.intersection),s.context.$nextTick(function(){r.observer&&r.observer.observe(r.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}]),e}();function Q(e,i,t){var s=i.value;if(!!s)if(typeof IntersectionObserver=="undefined")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var r=new be(e,s,t);e._vue_visibilityState=r}}function ge(e,i,t){var s=i.value,r=i.oldValue;if(!J(s,r)){var n=e._vue_visibilityState;if(!s){Z(e);return}n?n.createObserver(s,t):Q(e,{value:s},t)}}function Z(e){var i=e._vue_visibilityState;i&&(i.destroyObserver(),delete e._vue_visibilityState)}var ee={bind:Q,update:ge,unbind:Z};function $e(e){e.directive("observe-visibility",ee)}var ze={version:"0.4.6",install:$e},A=null;typeof window!="undefined"?A=window.Vue:typeof global!="undefined"&&(A=global.Vue);A&&A.use(ze);var te={exports:{}};(function(e){(function(i,t){e.exports?e.exports=t():i.Scrollparent=t()})(oe,function(){function i(s){var r=getComputedStyle(s,null).getPropertyValue("overflow");return r.indexOf("scroll")>-1||r.indexOf("auto")>-1}function t(s){if(s instanceof HTMLElement||s instanceof SVGElement){for(var r=s.parentNode;r.parentNode;){if(i(r))return r;r=r.parentNode}return document.scrollingElement||document.documentElement}}return t})})(te);var G=te.exports,ie={itemsLimit:1e3};const se={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function re(){return this.items.length&&typeof this.items[0]!="object"}let F=!1;if(typeof window!="undefined"){F=!1;try{var Se=Object.defineProperty({},"passive",{get(){F=!0}});window.addEventListener("test",null,Se)}catch{}}let we=0;var Te={name:"RecycleScroller",components:{ResizeObserver:M},directives:{ObserveVisibility:ee},props:{...se,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},i=this.items,t=this.sizeField,s=this.minItemSize;let r=1e4,n=0,l;for(let a=0,d=i.length;a<d;a++)l=i[a][t]||s,l<r&&(r=l),n+=l,e[a]={accumulator:n,size:l};return this.$_computedMinItemSize=r,e}return[]},simpleArray:re},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeDestroy(){this.removeListeners()},methods:{addView(e,i,t,s,r){const n={item:t,position:0},l={id:we++,index:i,used:!0,key:s,type:r};return Object.defineProperty(n,"nr",{configurable:!1,value:l}),e.push(n),n},unuseView(e,i=!1){const t=this.$_unusedViews,s=e.nr.type;let r=t.get(s);r||(r=[],t.set(s,r)),r.push(e),i||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:i}=this.updateVisibleItems(!1,!0);i||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,100))}))},handleVisibilityChange(e,i){this.ready&&(e||i.boundingClientRect.width!==0||i.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,i=!1){const t=this.itemSize,s=this.gridItems||1,r=this.itemSecondarySize||t,n=this.$_computedMinItemSize,l=this.typeField,a=this.simpleArray?null:this.keyField,d=this.items,u=d.length,f=this.sizes,p=this.$_views,h=this.$_unusedViews,T=this.pool;let m,v,O,b,$;if(!u)m=v=b=$=O=0;else if(this.$_prerender)m=b=0,v=$=Math.min(this.prerender,d.length),O=null;else{const o=this.getScroll();if(i){let g=o.start-this.$_lastUpdateScrollPosition;if(g<0&&(g=-g),t===null&&g<n||g<t)return{continuous:!0}}this.$_lastUpdateScrollPosition=o.start;const _=this.buffer;o.start-=_,o.end+=_;let I=0;if(this.$refs.before&&(I=this.$refs.before.scrollHeight,o.start-=I),this.$refs.after){const g=this.$refs.after.scrollHeight;o.end+=g}if(t===null){let g,L=0,j=u-1,y=~~(u/2),H;do H=y,g=f[y].accumulator,g<o.start?L=y:y<u-1&&f[y+1].accumulator>o.start&&(j=y),y=~~((L+j)/2);while(y!==H);for(y<0&&(y=0),m=y,O=f[u-1].accumulator,v=y;v<u&&f[v].accumulator<o.end;v++);for(v===-1?v=d.length-1:(v++,v>u&&(v=u)),b=m;b<u&&I+f[b].accumulator<o.start;b++);for($=b;$<u&&I+f[$].accumulator<o.end;$++);}else m=~~(o.start/t*s),m-=m%s,v=Math.ceil(o.end/t*s),b=Math.max(0,Math.floor((o.start-I)/t*s)),$=Math.floor((o.end-I)/t*s),m<0&&(m=0),v>u&&(v=u),b<0&&(b=0),$>u&&($=u),O=Math.ceil(u/s)*t}v-m>ie.itemsLimit&&this.itemsLimitError(),this.totalSize=O;let c;const R=m<=this.$_endIndex&&v>=this.$_startIndex;if(this.$_continuous!==R){if(R){p.clear(),h.clear();for(let o=0,_=T.length;o<_;o++)c=T[o],this.unuseView(c)}this.$_continuous=R}else if(R)for(let o=0,_=T.length;o<_;o++)c=T[o],c.nr.used&&(e&&(c.nr.index=d.indexOf(c.item)),(c.nr.index===-1||c.nr.index<m||c.nr.index>=v)&&this.unuseView(c));const N=R?null:new Map;let z,S,w,x;for(let o=m;o<v;o++){z=d[o];const _=a?z[a]:z;if(_==null)throw new Error(`Key is ${_} on item (keyField is '${a}')`);if(c=p.get(_),!t&&!f[o].size){c&&this.unuseView(c);continue}c?(c.nr.used=!0,c.item=z):(o===d.length-1&&this.$emit("scroll-end"),o===0&&this.$emit("scroll-start"),S=z[l],w=h.get(S),R?w&&w.length?(c=w.pop(),c.item=z,c.nr.used=!0,c.nr.index=o,c.nr.key=_,c.nr.type=S):c=this.addView(T,o,z,_,S):(x=N.get(S)||0,(!w||x>=w.length)&&(c=this.addView(T,o,z,_,S),this.unuseView(c,!0),w=h.get(S)),c=w[x],c.item=z,c.nr.used=!0,c.nr.index=o,c.nr.key=_,c.nr.type=S,N.set(S,x+1),x++),p.set(_,c)),t===null?(c.position=f[o-1].accumulator,c.offset=0):(c.position=Math.floor(o/s)*t,c.offset=o%s*r)}return this.$_startIndex=m,this.$_endIndex=v,this.emitUpdate&&this.$emit("update",m,v,b,$),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:R}},getListenerTarget(){let e=G(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:i}=this,t=i==="vertical";let s;if(this.pageMode){const r=e.getBoundingClientRect(),n=t?r.height:r.width;let l=-(t?r.top:r.left),a=t?window.innerHeight:window.innerWidth;l<0&&(a+=l,l=0),l+a>n&&(a=n-l),s={start:l,end:l+a}}else t?s={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:s={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return s},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,F?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){!this.listenerTarget||(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let i;this.itemSize===null?i=e>0?this.sizes[e-1].accumulator:0:i=Math.floor(e/this.gridItems)*this.itemSize,this.scrollToPosition(i)},scrollToPosition(e){const i=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let t,s,r;if(this.pageMode){const n=G(this.$el),l=n.tagName==="HTML"?0:n[i.scroll],a=n.getBoundingClientRect(),u=this.$el.getBoundingClientRect()[i.start]-a[i.start];t=n,s=i.scroll,r=e+l+u}else t=this.$el,s=i.scroll,r=e;t[s]=r},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,i)=>e.nr.index-i.nr.index)}}};function U(e,i,t,s,r,n,l,a,d,u){typeof l!="boolean"&&(d=a,a=l,l=!1);const f=typeof t=="function"?t.options:t;e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,r&&(f.functional=!0)),s&&(f._scopeId=s);let p;if(n?(p=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(h=__VUE_SSR_CONTEXT__),i&&i.call(this,d(h)),h&&h._registeredComponents&&h._registeredComponents.add(n)},f._ssrRegister=p):i&&(p=l?function(h){i.call(this,u(h,this.$root.$options.shadowRoot))}:function(h){i.call(this,a(h))}),p)if(f.functional){const h=f.render;f.render=function(m,v){return p.call(v),h(m,v)}}else{const h=f.beforeCreate;f.beforeCreate=h?[].concat(h,p):[p]}return t}const Re=Te;var ne=function(){var e,i,t=this,s=t.$createElement,r=t._self._c||s;return r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:(e={ready:t.ready,"page-mode":t.pageMode},e["direction-"+t.direction]=!0,e),on:{"&scroll":function(n){return t.handleScroll.apply(null,arguments)}}},[t.$slots.before?r("div",{ref:"before",staticClass:"vue-recycle-scroller__slot"},[t._t("before")],2):t._e(),t._v(" "),r(t.listTag,{ref:"wrapper",tag:"component",staticClass:"vue-recycle-scroller__item-wrapper",class:t.listClass,style:(i={},i[t.direction==="vertical"?"minHeight":"minWidth"]=t.totalSize+"px",i)},[t._l(t.pool,function(n){return r(t.itemTag,t._g({key:n.nr.id,tag:"component",staticClass:"vue-recycle-scroller__item-view",class:[t.itemClass,{hover:!t.skipHover&&t.hoverKey===n.nr.key}],style:t.ready?{transform:"translate"+(t.direction==="vertical"?"Y":"X")+"("+n.position+"px) translate"+(t.direction==="vertical"?"X":"Y")+"("+n.offset+"px)",width:t.gridItems?(t.direction==="vertical"&&t.itemSecondarySize||t.itemSize)+"px":void 0,height:t.gridItems?(t.direction==="horizontal"&&t.itemSecondarySize||t.itemSize)+"px":void 0}:null},t.skipHover?{}:{mouseenter:function(){t.hoverKey=n.nr.key},mouseleave:function(){t.hoverKey=null}}),[t._t("default",null,{item:n.item,index:n.nr.index,active:n.nr.used})],2)}),t._v(" "),t._t("empty")],2),t._v(" "),t.$slots.after?r("div",{ref:"after",staticClass:"vue-recycle-scroller__slot"},[t._t("after")],2):t._e(),t._v(" "),r("ResizeObserver",{on:{notify:t.handleResize}})],1)},Ie=[];ne._withStripped=!0;const Oe=void 0,xe=void 0,Ve=void 0,De=!1,P=U({render:ne,staticRenderFns:Ie},Oe,Re,xe,De,Ve,!1,void 0,void 0,void 0);var ke={name:"DynamicScroller",components:{RecycleScroller:P},provide(){return typeof ResizeObserver!="undefined"&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(!!Array.isArray(e)){for(const i of e)if(i.target){const t=new CustomEvent("resize",{detail:{contentRect:i.contentRect}});i.target.dispatchEvent(t)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...se,minItemSize:{type:[Number,String],required:!0}},data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:re,itemsWithSize(){const e=[],{items:i,keyField:t,simpleArray:s}=this,r=this.vscrollData.sizes,n=i.length;for(let l=0;l<n;l++){const a=i[l],d=s?l:a[t];let u=r[d];typeof u=="undefined"&&!this.$_undefinedMap[d]&&(u=0),e.push({item:a,id:d,size:u})}return e},listeners(){const e={};for(const i in this.$listeners)i!=="resize"&&i!=="visible"&&(e[i]=this.$listeners[i]);return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,i){const t=this.$el.scrollTop;let s=0,r=0;const n=Math.min(e.length,i.length);for(let a=0;a<n&&!(s>=t);a++)s+=i[a].size||this.minItemSize,r+=e[a].size||this.minItemSize;const l=r-s;l!==0&&(this.$el.scrollTop+=l)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!0){(e||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem(e){const i=this.$refs.scroller;i&&i.scrollToItem(e)},getItemSize(e,i=void 0){const t=this.simpleArray?i!=null?i:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[t]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;const i=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(i)})};requestAnimationFrame(i)})}}};const Ae=ke;var le=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("RecycleScroller",e._g(e._b({ref:"scroller",attrs:{items:e.itemsWithSize,"min-item-size":e.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},on:{resize:e.onScrollerResize,visible:e.onScrollerVisible},scopedSlots:e._u([{key:"default",fn:function(s){var r=s.item,n=s.index,l=s.active;return[e._t("default",null,null,{item:r.item,index:n,active:l,itemWithSize:r})]}}],null,!0)},"RecycleScroller",e.$attrs,!1),e.listeners),[e._v(" "),t("template",{slot:"before"},[e._t("before")],2),e._v(" "),t("template",{slot:"after"},[e._t("after")],2),e._v(" "),t("template",{slot:"empty"},[e._t("empty")],2)],2)},Pe=[];le._withStripped=!0;const Ce=void 0,Ee=void 0,Me=void 0,Fe=!1,K=U({render:le,staticRenderFns:Pe},Ce,Ae,Ee,Fe,Me,!1,void 0,void 0,void 0);var Ue={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.item.hasOwnProperty(this.vscrollData.keyField))return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||e||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){const i=this.$el.offsetWidth,t=this.$el.offsetHeight;this.applySize(i,t)}this.$_pendingSizeUpdate=null})},applySize(e,i){const t=~~(this.vscrollParent.direction==="vertical"?i:e);t&&this.size!==t&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,t),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize(){!this.vscrollResizeObserver||!this.$el.parentNode||(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize(){!this.vscrollResizeObserver||(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize(e){const{width:i,height:t}=e.detail.contentRect;this.applySize(i,t)}},render(e){return e(this.tag,this.$slots.default)}};const Ne=Ue,Le=void 0,je=void 0,He=void 0,We=void 0,X=U({},Le,Ne,je,We,He,!1,void 0,void 0,void 0);function Be(e,i){e.component(`${i}recycle-scroller`,P),e.component(`${i}RecycleScroller`,P),e.component(`${i}dynamic-scroller`,K),e.component(`${i}DynamicScroller`,K),e.component(`${i}dynamic-scroller-item`,X),e.component(`${i}DynamicScrollerItem`,X)}const qe={version:"1.1.2",install(e,i){const t=Object.assign({},{installComponents:!0,componentsPrefix:""},i);for(const s in t)typeof t[s]!="undefined"&&(ie[s]=t[s]);t.installComponents&&Be(e,t.componentsPrefix)}};let C=null;typeof window!="undefined"?C=window.Vue:typeof global!="undefined"&&(C=global.Vue);C&&C.use(qe);var Ge=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"demo",attrs:{id:e.pageId}},[t("h1",[e._v("bus\u4F20\u503C")]),t("el-button",{on:{click:e.fun1}},[e._v("bus\u4F20\u503C")]),t("h1",[e._v("\u9ED8\u8BA4\u63D2\u69FD\u4F20\u503C")]),t("comBox",{scopedSlots:e._u([{key:"default",fn:function(s){var r=s.item;return[t("div",[e._v(e._s(r)+"--1111")])]}}])}),t("h1",[e._v("\u547D\u540D\u63D2\u69FD\u4F20\u503C")]),t("comBox",{scopedSlots:e._u([{key:"a",fn:function(s){var r=s.item;return[t("div",[e._v(e._s(r)+"---222")])]}}])}),t("h1",[e._v("\u865A\u62DF\u5217\u8868")]),t("RecycleScroller",{staticClass:"scroller",staticStyle:{height:"400px"},attrs:{items:e.list,"item-size":32,"key-field":"id"},scopedSlots:e._u([{key:"default",fn:function(s){var r=s.item;return[t("div",{staticClass:"user"},[e._v(" "+e._s(`\u5F53\u524D\u6570\u636Eid${r.id}`)+" ")])]}}])}),t("h1",[e._v("\u817E\u8BAF\u64AD\u653E\u5668")]),t("tx-video")],1)},Ke=[];const Xe={components:{txVideo:()=>W(()=>import("./index.2eca8637.js"),["static/index.2eca8637.js","static/index.60d0feb5.css","static/index.25833e42.js","static/index.8776284e.css"]),RecycleScroller:P,comBox:()=>W(()=>import("./comBox.f70dd712.js"),["static/comBox.f70dd712.js","static/index.25833e42.js","static/index.8776284e.css"])},data(){return{pageId:"",list:[]}},mounted(){for(let e=1;e<1e4;e++)this.list.push({id:e})},methods:{fun1(){this.$bus.$emit("test-click","\u6211\u662Fbus\u4F20\u503C")}}},Y={};var Ye=ae(Xe,Ge,Ke,!1,Je,"5534360b",null,null);function Je(e){for(let i in Y)this[i]=Y[i]}var Ze=function(){return Ye.exports}();export{Ze as default};
