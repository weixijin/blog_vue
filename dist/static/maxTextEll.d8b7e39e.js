import{n as l}from"./index.25833e42.js";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["max-text-ell pr",t.pageClass]},[s("div",{domProps:{innerHTML:t._s(t.currentVal)}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isPosShow,expression:"isPosShow"}],staticClass:"max-text-ell-pos-status",on:{click:t.changeStatus}},[t._v(" "+t._s(t.isEllStatus?"\u5C55\u5F00\u5427":"\u6536\u8D77\u5427")+" ")])])},n=[];const r={props:{value:{type:String,default:""},maxHeight:{type:Number,default:72},minLength:{type:Number,default:68},maxLength:{type:Number,default:200}},data(){return{pageClass:this.createId(),isPosShow:!0,currentLength:68,currentVal:"",isEllStatus:!1}},mounted(){this.setTextEll()},computed:{valLength(){return this.value.length}},watch:{value(){this.setTextEll()}},methods:{async setOpen(){this.currentVal.length<this.valLength?(this.isPosShow=!1,this.currentVal=this.value.substring(0,this.currentVal.length+1),await this.sleep(15),this.setOpen()):(this.currentVal=this.value+'<span class="max-text-ell-space"></span>',this.isEllStatus=!this.isEllStatus,this.isPosShow=!0)},async changeStatus(t){t===!0&&(this.isEllStatus=t),this.isEllStatus?(this.currentVal=this.currentVal.substring(0,this.currentVal.length-3),this.setOpen()):(this.currentVal=this.value.substring(0,this.currentLength-5)+"...",this.isEllStatus=!this.isEllStatus)},async setTextEll(){if(this.value.length<this.minLength){this.isPosShow=!1,this.currentVal=this.value;return}if(this.currentLength>=this.maxLength){this.currentVal=this.value,this.isPosShow=!1;return}this.currentLength+=1,this.currentVal=this.value.substring(0,this.currentLength),await this.$nextTick(),document.querySelector(`.${this.pageClass}`).offsetHeight<=this.maxHeight?this.setTextEll():(this.isEllStatus=!0,this.currentVal=this.value.substring(0,this.currentLength-5)+"...",this.isPosShow=!0)}}},i={};var h=l(r,a,n,!1,u,"1ec091b2",null,null);function u(t){for(let e in i)this[e]=i[e]}var o=function(){return h.exports}();export{o as default};
