import{h as n,n as _}from"./index.25833e42.js";import{u as d}from"./user-article-list.a66fd601.js";var h=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:["ac-page flex-wrap",t.IS_PC?"":"mobile-ac-page"]},[t.IS_PC?e("nav",{staticClass:"flex-0 nav-left"},[e("ul",t._l(t.comList,function(l){return e("li",{key:l._id+"aaa",staticClass:"nav-item ell-1",on:{click:function(r){return t.goAnchor("kl"+l._id)}}},[t._v(" \u3010"+t._s(l.children.length)+"\u3011"+t._s(l.class_name)+" ")])}),0)]):t._e(),e("div",{ref:"klScrollRef",class:["flex-1 scroll-box",t.IS_PC?"scroll-box-pc":"p-b-10"]},t._l(t.comList,function(l){return e("div",{key:l._id},[e("h2",{staticClass:"anchor-title",attrs:{id:"kl"+l._id}},[t._v(" "+t._s(l.class_name)+" ")]),e("userArticleList",{staticClass:"articles-scroll-page",attrs:{list:l.children,scrollHeight:t.scrollHeight},on:{goPage:t.goPage}})],1)}),0)])},u=[];const f={components:{userArticleList:d},data(){return{scrollTop:0,list:[],scrollHeight:5e3}},computed:{...Vuex.mapState(["navlist"]),IS_PC(){return this.isPc()},comList(){let t=[];return this.navlist.forEach(s=>{this.list.forEach(e=>{s._id===e._id&&t.push(e)})}),t}},created(){this.init()},async activated(){if(this.IS_PC)return;await this.$nextTick();let{klScrollRef:t}=this.$refs;t&&(t.scrollTop=this.scrollTop)},deactivated(){if(this.IS_PC)return;let{klScrollRef:t}=this.$refs;t&&(this.scrollTop=t.scrollTop||0)},methods:{...Vuex.mapActions(["GET_NAV_LIST"]),goAnchor(t){document.querySelector(`#${t}`).scrollIntoView({behavior:"smooth"})},goPage({row:t}){let{IS_PC:s}=this;this.list=this.list.map(r=>(Array.isArray(r.children)&&(r.children=r.children.map(i=>(i._id===t._id&&(i.isRead=!0),i))),r));let e=`/blog/page/${t._id}`,l={from:"interview_test"};this.goTo(e,{query:l,target:s?"_blank":"_self"})},init(){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.3)"});this.GET_NAV_LIST(),n.get_article_by_tagids({blog_tags:["65a72a07b4553f04e4c1c9dc"],cache:!0}).then(s=>{var r;let e=((r=s==null?void 0:s.data)==null?void 0:r.data)||[];e=e.map(i=>(this.$set(i,"isRead",!1),i));let l=[];e.forEach(i=>{let{_id:a}=i.class_id;(l.length===0||!l.some(o=>o._id===a))&&l.push({...i.class_id,children:[]})}),l.forEach(i=>{e.forEach(a=>{i._id===a.class_id._id&&i.children.push(a)})}),this.list=l}).catch(s=>{console.log("err",s)}).finally(()=>{t.close()})}}},c={};var p=_(f,h,u,!1,g,"6dfba40e",null,null);function g(t){for(let s in c)this[s]=c[s]}var x=function(){return p.exports}();export{x as default};
