import{e as r,f as o}from"./data.d27333a2.js";import{g as c}from"./gameitem.72ca0066.js";import{n as l}from"./index.25833e42.js";const m={1:"\u672A\u5F00\u59CB",2:"\u8FDB\u884C\u4E2D",3:"\u5DF2\u7ED3\u675F",4:"\u6682\u505C"};function u(t){return m[t]||"\u672A\u77E5\u72B6\u6001"}var _=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"demo"},[e("h1",{staticClass:"f-16 f-550 c-primary h-30 flex-center"},[t._v("\u4E94\u5B50\u68CB\u5BF9\u5C40\u5927\u5385\u5217\u8868")]),e("div",{staticClass:"flex-multi-row flex-justify-between flex-wrap"},[t._l(t.list,function(a){return e("gameItem",{key:a._id,attrs:{isMask:!1,row:a},on:{goGamePage:function(n){return t.goGamePage(a)},commandFun:t.commandFun}})}),t._l(20,function(a){return e("div",{key:a,staticClass:"w-200"})})],2)])},d=[];const f={components:{gameItem:c},data(){return{list:[]}},created(){this.init()},methods:{commandFun({type:t,row:s}){t=="delete"&&this.$confirm("\u786E\u8BA4\u5220\u9664\u8BE5\u6E38\u620F\uFF1F").then(e=>{r({gobang_id:s._id}).then(a=>{this.$message.success("\u5220\u9664\u6210\u529F"),this.init()}).catch(a=>{})}).catch(()=>{})},init(){o().then(async t=>{if(t.data&&this.isArray(t.data.data)){this.list=[];const s=[2,4,1,3];let e=this.sortArray(t.data.data,s,"status");for(let a=0;a<e.length;a++){const n=e[a];n.game_img=await this.createCanvasImg({width:200,height:120,fontContent:`\u623F\u95F4${a+1}`}).catch(v=>""),n.statusLabel=u(n.status),this.list.push(n)}}}).catch(()=>{})},goGamePage(t={}){let{im_romm_id:s,_id:e}=t;if(!s||!e)return this.$message.warning("\u6E38\u620F\u5C1A\u672A\u5F00\u653E");this.goTo("/game/goband",{query:{im_romm_id:s,game_id:e}})}}},i={};var g=l(f,_,d,!1,h,null,null,null);function h(t){for(let s in i)this[s]=i[s]}var w=function(){return g.exports}();export{w as default};
