import{N as l}from"./index.75491ee7.js";import{n as c,i as o,j as _}from"./index.25833e42.js";var d=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"admin"},[e("header",[e("h1",[t._v("admin")]),e("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.goIndex}},[t._v(" \u8FD4\u56DE\u9996\u9875 ")])],1),e("main",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.addArticle}},[t._v("\u6DFB\u52A0\u65B0article\u7B14\u8BB0")]),t.navlist.length>0?e("ul",[t._m(0),e("div",{staticClass:"scorll_better_wxj"},t._l(t.navlist,function(s,r){return e("li",{key:r},[e("div",{staticClass:"item item1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.article_name,expression:"item.article_name"}],domProps:{value:s.article_name},on:{input:function(a){a.target.composing||t.$set(s,"article_name",a.target.value)}}})]),e("div",{staticClass:"item item2"},[e("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){return t.putArticle(s._id)}}},[t._v("\u7F16\u8F91")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.delArticle(s._id)}}},[t._v("\u5220\u9664")])],1)])}),0)]):e("div",{staticClass:"nohave"},[t._v("\u8FD8\u6CA1\u6709\u7B14\u8BB0\uFF0C\u5FEB\u53BB\u521B\u5EFA\u5427")])],1)])},u=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("li",[e("div",{staticClass:"item item1"},[t._v("\u5206\u7C7B\u540D")]),e("div",{staticClass:"item item2"},[t._v("\u64CD\u4F5C")])])}];const m={name:"admin",data(){return{isShow:!0,navlist:[],newClass:"",class_id:""}},mounted(){let t=this.$route.query._id;if(t)this.class_id=t,this.getArticles();else return this.$router.replace("/")},methods:{goIndex(){this.$router.push("/")},async getArticles(){let t=await o({class_id:this.class_id});this.navlist=t.data},async delArticle(t){if(confirm("\u786E\u5B9A\u5220\u9664\u5417\uFF1F")){let i=await _({_id:t});this.$message.success(i.msg),i.code==200&&this.getArticles()}},addArticle(){this.$router.push(`/blog/admin_article?class_id=${this.class_id}`)},putArticle(t){this.$router.push(`/blog/admin_article?_id=${t}`)}},components:{Nav:l}},n={};var v=c(m,d,u,!1,h,"b4e2b370",null,null);function h(t){for(let i in n)this[i]=n[i]}var g=function(){return v.exports}();export{g as default};
