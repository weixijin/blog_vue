import{n as r}from"./index.25833e42.js";var o=function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("div",[l("TrainPage",{ref:"TrainPageRef",attrs:{searchConfig:e.searchConfig,tableConfig:e.tableConfig,sendUrl:"get_im_rooms",customize:""}}),l("e-dialog",{attrs:{"custom-class":"zl-dialog",title:"\u804A\u5929\u5BA4\u914D\u7F6E",width:"600px","close-on-click-modal":!1},on:{closed:e.handleClose,confirm:e.confirm},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[l("div",{staticClass:"zl-dialog-main p-r-20"},[l("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"\u72B6\u6001",prop:"status"}},[l("el-radio-group",{model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.options1,function(t){return l("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1)],1),l("el-form-item",{attrs:{label:"\u6700\u5927\u5728\u7EBF\u4EBA\u6570",prop:"status"}},[l("el-input-number",{attrs:{"controls-position":"right",min:2,max:10},model:{value:e.ruleForm.max,callback:function(t){e.$set(e.ruleForm,"max",t)},expression:"ruleForm.max"}})],1),l("el-form-item",{attrs:{label:"\u540D\u5B57",prop:"im_name"}},[l("el-input",{staticClass:"w-220",attrs:{clearable:""},model:{value:e.ruleForm.im_name,callback:function(t){e.$set(e.ruleForm,"im_name",t)},expression:"ruleForm.im_name"}})],1),l("el-form-item",{attrs:{label:"\u7C7B\u578B",prop:"type"}},[l("el-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1)])],1)},i=[];const n={name:"adminCommentList",data(){return{list:[],searchConfig:[{label:"\u623F\u95F4\u72B6\u6001",type:"select",modelName:"status",options:()=>this.options1},{label:"\u623F\u95F4\u540D\u79F0",type:"input",modelName:"im_name"}],tableConfig:{isSelection:!1,maxHeightFlag:!1,stripe:!0,filterData:e=>e.map(a=>{let{status:l,type:t}=a;return{...a,_status:this.getStatus(l),_type:this.getRoomType(t)}}),btns:{children:[{label:"\u65B0\u589E",type:"primary",clickFn:e=>{this.dialogVisible=!0}}]},columnObj:[{label:"\u623F\u95F4\u540D",props:"im_name"},{label:"\u72B6\u6001",props:"_status"},{label:"\u7C7B\u578B",props:"_type"},{label:"\u6700\u5927\u5728\u7EBF\u4EBA\u6570",props:"max"},{label:"\u5728\u7EBF\u4EBA\u6570",props:"online_number"},{label:"\u603B\u804A\u5929\u6570",props:"all_sys_number"},{label:"\u64CD\u4F5C",slot:"projectDetail",props:"action",lock:!0,fixed:"right",children:[{label:"\u7F16\u8F91",type:"success",clickFn:e=>{this.editRow(e)}},{label:"\u5220\u9664",type:"danger",clickFn:e=>{this.delSys(e._id)}}]}]},dialogVisible:!1,isLoading:!0,options:[{value:"1",label:"\u901A\u7528\u804A\u5929\u5BA4"},{value:"2",label:"\u5176\u4ED6"}],options1:[{value:"1",label:"\u5F00\u542F"},{value:"2",label:"\u7981\u7528"}],form:{room_id:""},ruleForm:{_id:"",status:"1",max:10,im_name:"",type:"2"},rules:{im_name:[{required:!0,message:"\u8BF7\u8F93\u5165im\u540D\u79F0",trigger:"blur"}]}}},methods:{editRow(e){this.ruleForm=this.deepClone(e),this.dialogVisible=!0},getStatus(e){let a=this.options1.find(l=>l.value==e);return a?a.label:"--"},getRoomType(e){let a=this.options.find(l=>l.value==e);return a?a.label:"--"},confirm(){const{ruleForm:e}=this.$refs;e&&e.validate(a=>{if(a){post_im_room(this.ruleForm).then(()=>{this.$message.success("\u4FDD\u5B58\u6210\u529F"),this.handleClose(),this.initTable()}).catch(l=>{this.Toast(l)});return}return!1})},handleClose(){this.dialogVisible=!1,this.ruleForm={_id:"",status:"1",max:10,im_name:"",type:"2"}},delSys(e){this.$confirm("\u786E\u5B9A\u5220\u9664\u5417\uFF1F").then(()=>{del_im_room({_id:e}).then(()=>{this.initTable(!0)}).catch(a=>{this.Toast(a)})}).catch(()=>{})}}},s={};var u=r(n,o,i,!1,m,null,null,null);function m(e){for(let a in s)this[a]=s[a]}var p=function(){return u.exports}();export{p as default};
